"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[754],{26755:function(an,J,a){a.r(J),a.d(J,{default:function(){return Je}});var Ee=a(5574),u=a.n(Ee),Ie=a(15009),B=a.n(Ie),Be=a(99289),W=a.n(Be),l=a(62435),k=a(82188),Ye=a(96738),o=a(15746),p=a(71230),F=a(71577),S=a(5403),Y=a(39778),y=a(71338),Le=a(60974),Ke=a(3363),q=a(4438),P=a(27511),Qe=a(23430),Oe=a(93759),we=a(97173),Re=a(55733),Ge=a.n(Re),Me=a(93162),_=a.n(Me);function ee(h,f){if(h.length>1){for(var d=new(Ge()),g=d.folder(f),m=function(L){var R=h[L],V=new Image;V.src=R,V.crossOrigin="*",V.onload=function(){g==null||g.file(L+1+".jpg",Ue(V).substring(22),{base64:!0})}},T=0;T<h.length;T++)m(T);setTimeout(function(){d.generateAsync({type:"blob"}).then(function(z){_().saveAs(z,"images.zip")})},3e3)}else if(h.length===1){console.log("single");var w=h[0];_().saveAs(w,"image.jpg")}}function Ue(h){var f=document.createElement("canvas");f.width=h.width,f.height=h.height;var d=f.getContext("2d");d==null||d.drawImage(h,0,0,h.width,h.height);var g=h.src.substring(h.src.lastIndexOf(".")+1).toLowerCase(),m=f.toDataURL("image/"+g);return m}var Xe=a(71484),sn=a(75651),e=a(86074),ln=Ye.Z.TextArea,$e=function(f){var d=new Image;d.src=f;var g=512,m=512;return d.width>d.height?(g=Math.floor(d.width/d.height*512),g=g-g%16):(m=Math.floor(d.height/d.width*512),m=m-m%16),[g,m]},rn=null,He=function(){var f=(0,k.TH)(),d=(0,l.useState)(0),g=u()(d,2),m=g[0],T=g[1],w=(0,l.useState)(""),z=u()(w,2),L=z[0],R=z[1],V=(0,l.useState)(!1),te=u()(V,2),We=te[0],G=te[1],A=["\u968F\u673A\u503C","\u521B\u610F\u5EA6","\u5173\u952E\u8BCD\u7B26\u5408\u5EA6","\u753B\u9762\u7CBE\u7EC6\u5EA6"],ke=(0,l.useState)(A[0]),ne=u()(ke,2),N=ne[0],qe=ne[1],_e=(0,l.useState)(A[1]),ae=u()(_e,2),D=ae[0],et=ae[1],tt=(0,l.useState)(["\u968F\u673A\u503C","\u521B\u610F\u5EA6"]),se=u()(tt,2),nt=se[0],le=se[1],at=(0,l.useState)(70),re=u()(at,2),st=re[0],lt=re[1],rt=(0,l.useState)(50),ie=u()(rt,2),it=ie[0],ut=ie[1],ot=A.filter(function(n){return!D.includes(n)}),ct=A.filter(function(n){return!N.includes(n)}),x=A.filter(function(n){return!nt.includes(n)}),dt=(0,l.useState)(""),ue=u()(dt,2),oe=ue[0],ce=ue[1],ht=(0,l.useState)(Array),de=u()(ht,2),M=de[0],he=de[1],ft=(0,l.useState)(""),fe=u()(ft,2),un=fe[0],on=fe[1],gt=(0,l.useState)(4),ge=u()(gt,2),j=ge[0],xt=ge[1],pt=(0,l.useState)(""),xe=u()(pt,2),U=xe[0],vt=xe[1],mt=(0,l.useState)([512,512]),pe=u()(mt,2),ve=pe[0],E=pe[1],jt=(0,l.useState)({\u968F\u673A\u503C:[10,20,30,40],\u521B\u610F\u5EA6:[.3,.4,.5,.6],\u5173\u952E\u8BCD\u7B26\u5408\u5EA6:[70,-1,-1,-1],\u753B\u9762\u7CBE\u7EC6\u5EA6:[50,-1,-1,-1]}),me=u()(jt,2),c=me[0],cn=me[1],Ct=(0,l.useState)({\u968F\u673A\u503C:[10,20,30,40],\u521B\u610F\u5EA6:[.3,.4,.5,.6],\u5173\u952E\u8BCD\u7B26\u5408\u5EA6:[70,-1,-1,-1],\u753B\u9762\u7CBE\u7EC6\u5EA6:[50,-1,-1,-1]}),je=u()(Ct,2),K=je[0],St=je[1],yt=(0,l.useState)("\u968F\u673A\u503C"),Ce=u()(yt,2),r=Ce[0],Zt=Ce[1],Ft=(0,l.useState)("\u521B\u610F\u5EA6"),Se=u()(Ft,2),i=Se[0],bt=Se[1],Pt=(0,l.useState)({\u968F\u673A\u503C:"\u4E0D\u540C\u7684\u968F\u673A\u503C\u5C06\u751F\u6210\u7EC6\u8282\u5404\u5F02\u7684\u56FE\u7247",\u521B\u610F\u5EA6:"\u521B\u610F\u5EA6\u8D8A\u9AD8\uFF0C\u610F\u5473\u7740\u751F\u6210\u7684\u56FE\u7247\u4E0E\u53C2\u8003\u56FE\u7247\u76F8\u5DEE\u8D8A\u5927",\u5173\u952E\u8BCD\u7B26\u5408\u5EA6:"\u5173\u952E\u8BCD\u7B26\u5408\u5EA6\u8D8A\u9AD8\uFF0C\u6587\u672C\u5173\u952E\u8BCD\u5BF9\u751F\u6210\u56FE\u7247\u7684\u6307\u5BFC\u5C31\u8D8A\u5F3A",\u753B\u9762\u7CBE\u7EC6\u5EA6:"\u753B\u9762\u7CBE\u7EC6\u5EA6\u8D8A\u9AD8\uFF0C\u751F\u6210\u7684\u7EC6\u8282\u8D8A\u4E30\u5BCC\u3001\u771F\u5B9E\uFF0C\u4F46\u751F\u6210\u82B1\u8D39\u7684\u65F6\u95F4\u4E5F\u4F1A\u589E\u52A0"}),ye=u()(Pt,2),Ze=ye[0],dn=ye[1],Tt=(0,l.useState)({\u968F\u673A\u503C:[1e4,1],\u521B\u610F\u5EA6:[1,.05],\u5173\u952E\u8BCD\u7B26\u5408\u5EA6:[20,1],\u753B\u9762\u7CBE\u7EC6\u5EA6:[100,1]}),Fe=u()(Tt,2),s=Fe[0],hn=Fe[1];(0,l.useEffect)(function(){var n=window.location.search.slice(1).split("?")[0].split("=")[1],t=parseInt(window.location.search.slice(1).split("?")[1].split("=")[1]);T(t),R(n),f&&(vt(f.state.img),ce(f.state.txt),he(f.state.tags))},[]);for(var Vt=(0,l.useState)("https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png"),be=u()(Vt,2),Q=be[0],zt=be[1],At=(0,l.useState)([0,0]),Pe=u()(At,2),Te=Pe[0],Nt=Pe[1],Dt=function(t){var v=t.currentTarget.getAttribute("src");zt(v);for(var C=0;C<j;C++)for(var Z=0;Z<j;Z++)v===X[C*j+Z]&&Nt([C,Z])},Et=(0,l.useState)(["https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png","https://s2.loli.net/2023/03/08/9DbVCz7YyTcQqKF.png"]),Ve=u()(Et,2),X=Ve[0],fn=Ve[1],ze=[],$=0;$<j;$++){for(var Ae=[],O=0;O<j;O++)Ae.push((0,e.jsx)(o.Z,{span:24/j,children:(0,e.jsx)("div",{children:(0,e.jsx)("img",{className:"result_img",src:X[$*j+O],onClick:function(t){return Dt(t)}})})},O.toString()));ze.push((0,e.jsx)(p.Z,{gutter:5,children:Ae}))}var It=function(){ee(X,"\u751F\u6210\u7ED3\u679C.zip")},Bt=function(){console.log([Q]),ee([Q],"\u751F\u6210\u7ED3\u679C.zip")},Yt=function(){k.m8.push({pathname:"/file?name=".concat(L,"?id=").concat(m)},{img:Q})},Lt=function(t){xt(t.target.value)},Kt=function(t){if(t.target.value===1){var v=$e(U),C=v[0],Z=v[1];E([C,Z])}else t.target.value===2?E([512,512]):t.target.value===3?E([672,512]):t.target.value===4?E([912,512]):t.target.value===5&&E([512,672])},Qt=function(t){c[r][0]=t},Ot=function(t){c[r][1]=t},wt=function(t){c[r][2]=t},Rt=function(t){c[r][3]=t},Gt=function(t){c[i][0]=t},Mt=function(t){c[i][1]=t},Ut=function(t){c[i][2]=t},Xt=function(t){c[i][3]=t},$t=function(){var n=W()(B()().mark(function t(){var v,C;return B()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for(St(c),v=oe,C=0;C<M.length;C+=1)v+=", ",v+=M[C];console.log(v);case 4:case"end":return b.stop()}},t)}));return function(){return n.apply(this,arguments)}}(),Ht=(0,l.useState)(0),Ne=u()(Ht,2),I=Ne[0],H=Ne[1],Jt=function(){le([N,D]),H(I+1)},Wt=function(){H(I-1)},kt=function(){H(0),G(!0)},qt=function(){c[N]=[c[r][0],c[r][1],c[r][2],c[r][3]],c[D]=[c[i][0],c[i][1],c[i][2],c[i][3]],c[x[0]][0]=st,c[x[1]][0]=it,Zt(N),bt(D),G(!1)},De=function(){le([r,i]),G(!1)},_t=function(t){qe(t)},en=function(t){et(t)},tn=function(t){lt(t)},nn=function(t){ut(t)};return(0,e.jsxs)("div",{className:"result_ctn",children:[(0,e.jsx)("link",{rel:"stylesheet",href:"%PUBLIC_URL%/font.css"}),(0,e.jsx)(we.Z,{}),(0,e.jsxs)("div",{className:"result",children:[(0,e.jsxs)("div",{className:"result_top_ctn",children:[(0,e.jsx)("div",{className:"result_init_img_ctn",children:(0,e.jsx)("img",{src:U,alt:"reference image"})}),(0,e.jsxs)("div",{className:"result_props_ctn",children:[(0,e.jsxs)(p.Z,{align:"middle",justify:"space-between",children:[(0,e.jsx)(o.Z,{children:(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"16px"},children:"\u751F\u6210\u8BBE\u7F6E"})}),(0,e.jsx)(o.Z,{children:(0,e.jsx)(F.ZP,{onClick:kt,style:{fontFamily:"PingFang",fontSize:"12px"},children:"\u66F4\u591A\u8BBE\u7F6E"})})]}),(0,e.jsxs)("div",{className:"para_ctn",children:[(0,e.jsxs)("div",{className:"para_item",children:[(0,e.jsx)(Xe.EG,{style:{resize:"none",fontFamily:"PingFang",fontSize:"12px"},showClear:!0,allowDuplicates:!1,value:M,onChange:function(t){he(t)},onInputChange:function(){var n=W()(B()().mark(function t(v,C){return B()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:ce(v);case 1:case"end":return b.stop()}},t)}));return function(t,v){return n.apply(this,arguments)}}(),inputValue:oe}),(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"12px",margin:"0px"},children:"\u751F\u6210\u6570\u91CF"}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(o.Z,{span:24,children:(0,e.jsxs)(S.ZP.Group,{defaultValue:4,buttonStyle:"solid",onChange:function(t){return Lt(t)},children:[(0,e.jsx)(S.ZP,{value:1,className:"radio_button",children:"1 x 1"}),(0,e.jsx)(S.ZP,{value:2,className:"radio_button",children:"2 x 2"}),(0,e.jsx)(S.ZP,{value:3,className:"radio_button",children:"3 x 3"}),(0,e.jsx)(S.ZP,{value:4,className:"radio_button",children:"4 x 4"})]})})}),(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"12px",margin:"0px"},children:"\u751F\u6210\u5BBD\u9AD8\u6BD4"}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(o.Z,{span:24,children:(0,e.jsxs)(S.ZP.Group,{defaultValue:2,buttonStyle:"solid",onChange:function(t){return Kt(t)},children:[(0,e.jsx)(S.ZP,{value:1,disabled:U==="",className:"radio_button",children:"\u53C2\u8003\u56FE\u7247"}),(0,e.jsx)(S.ZP,{value:2,className:"radio_button",children:"1 : 1"}),(0,e.jsx)(S.ZP,{value:3,className:"radio_button",children:"4 : 3"}),(0,e.jsx)(S.ZP,{value:4,className:"radio_button",children:"16 : 9"}),(0,e.jsx)(S.ZP,{value:5,className:"radio_button",children:"3 : 4"})]})})})]}),(0,e.jsxs)("div",{className:"para_item",children:[(0,e.jsx)(Y.Z,{placement:"topLeft",title:Ze[r],children:(0,e.jsxs)("p",{style:{fontFamily:"PingFang",fontSize:"12px",marginTop:0},children:["X\u8F74\uFF1A",r]})}),(0,e.jsxs)(p.Z,{align:"middle",justify:"space-around",children:[(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[r][0],defaultValue:s[r][0]/10,step:s[r][1],onAfterChange:function(t){return Qt(t)}})}),(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[r][0],defaultValue:s[r][0]/5,step:s[r][1],disabled:j<2,onAfterChange:function(t){return Ot(t)}})}),(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[r][0],defaultValue:s[r][0]/10*3,step:s[r][1],disabled:j<3,onAfterChange:function(t){return wt(t)}})}),(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[r][0],defaultValue:s[r][0]/5*2,step:s[r][1],disabled:j<4,onAfterChange:function(t){return Rt(t)}})})]}),(0,e.jsx)(Y.Z,{placement:"topLeft",title:Ze[i],children:(0,e.jsxs)("p",{style:{fontFamily:"PingFang",fontSize:"12px",marginTop:0},children:["Y\u8F74\uFF1A",i]})}),(0,e.jsxs)(p.Z,{align:"middle",justify:"space-around",children:[(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[i][0],defaultValue:s[i][0]/10,step:s[i][1],onAfterChange:function(t){return Gt(t)}})}),(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[i][0],defaultValue:s[i][0]/10*2,step:s[i][1],disabled:j<2,onAfterChange:function(t){return Mt(t)}})}),(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[i][0],defaultValue:s[i][0]/10*3,step:s[i][1],onAfterChange:function(t){return Ut(t)}})}),(0,e.jsx)(o.Z,{span:6,children:(0,e.jsx)(y.Z,{min:0,max:s[i][0],defaultValue:s[i][0]/10*4,step:s[i][1],disabled:j<4,onAfterChange:function(t){return Xt(t)}})})]})]})]})]})]}),(0,e.jsxs)("div",{className:"result_middle_ctn",children:[(0,e.jsx)(F.ZP,{type:"primary",className:"result_button",onClick:$t,children:"\u751F\u6210"}),(0,e.jsx)(F.ZP,{className:"result_button",onClick:It,children:"\u6279\u91CF\u4FDD\u5B58"})]}),(0,e.jsxs)(Le.Z,{style:{fontFamily:"PingFang"},title:"\u66F4\u591A\u8BBE\u7F6E",open:We,onCancel:De,footer:null,children:[(0,e.jsx)(Ke.Z,{current:I,items:[{title:"\u5750\u6807\u8F74\u53C2\u6570\u540D\u79F0"},{title:"\u5176\u4F59\u53C2\u6570\u9ED8\u8BA4\u503C"}],style:{fontFamily:"PingFang"}}),(0,e.jsxs)("div",{style:{marginTop:24},children:[I<1&&(0,e.jsxs)("div",{children:[(0,e.jsxs)(p.Z,{justify:"space-around",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,offset:2,children:(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"12px",marginTop:0},children:"X\u8F74"})}),(0,e.jsx)(o.Z,{span:18,children:(0,e.jsx)(q.Z,{defaultValue:"\u968F\u673A\u503C",value:N,style:{width:180},onChange:function(t){_t(t)},options:ot.map(function(n){return{value:n,label:n}})})}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{})]}),(0,e.jsxs)(p.Z,{justify:"space-around",align:"middle",children:[(0,e.jsx)(o.Z,{span:4,offset:2,children:(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"12px",marginTop:0},children:"Y\u8F74"})}),(0,e.jsx)(o.Z,{span:18,children:(0,e.jsx)(q.Z,{defaultValue:"\u521B\u610F\u5EA6",value:D,style:{width:180},onChange:function(t){en(t)},options:ct.map(function(n){return{value:n,label:n}})})})]}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsx)(p.Z,{children:(0,e.jsx)(F.ZP,{type:"primary",onClick:function(){return Jt()},style:{fontFamily:"PingFang"},children:"\u4E0B\u4E00\u6B65"})})]}),I>0&&(0,e.jsxs)("div",{children:[(0,e.jsxs)(p.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:7,children:(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"12px",marginTop:0},children:x[0]})}),(0,e.jsx)(o.Z,{span:17,children:(0,e.jsx)(y.Z,{min:0,max:s[x[0]][0],defaultValue:s[x[0]][0]/2,step:s[x[0]][1],onChange:function(t){tn(t)}})})]}),(0,e.jsxs)(p.Z,{align:"middle",children:[(0,e.jsx)(o.Z,{span:7,children:(0,e.jsx)("p",{style:{fontFamily:"PingFang",fontSize:"12px",marginTop:0},children:x[1]})}),(0,e.jsx)(o.Z,{span:17,children:(0,e.jsx)(y.Z,{min:0,max:s[x[1]][0],defaultValue:s[x[1]][0]/2,step:s[x[1]][1],onChange:function(t){nn(t)}})})]}),(0,e.jsx)("br",{}),(0,e.jsx)("br",{}),(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(o.Z,{span:4,children:(0,e.jsx)(F.ZP,{style:{margin:"0 8px",fontFamily:"PingFang"},onClick:function(){return Wt()},children:"\u4E0A\u4E00\u6B65"})}),(0,e.jsx)(o.Z,{offset:12,span:4,children:(0,e.jsx)(F.ZP,{onClick:De,style:{fontFamily:"PingFang"},children:"\u53D6\u6D88"},"back")}),(0,e.jsx)(o.Z,{span:4,children:(0,e.jsx)(F.ZP,{type:"primary",onClick:qt,style:{fontFamily:"PingFang"},children:"\u786E\u8BA4"},"submit")})]})]})]})]}),(0,e.jsxs)("div",{className:"result_btm_ctn",children:[(0,e.jsx)("div",{className:"result_grid",children:(0,e.jsx)(p.Z,{gutter:5,children:ze})}),(0,e.jsxs)("div",{className:"inspect_ctn",children:[(0,e.jsx)("img",{className:"inspect_img",src:Q}),(0,e.jsxs)("div",{className:"rightUp-ctn",children:[(0,e.jsx)(Y.Z,{placement:"topLeft",title:"\u4E0B\u8F7D\u672C\u56FE\u7247",children:(0,e.jsx)("div",{className:"download-btn",onClick:Bt,children:(0,e.jsx)(Qe.Z,{})})}),(0,e.jsx)(Y.Z,{placement:"topLeft",title:"\u5C06\u8BE5\u56FE\u7247\u9001\u5165\u8BBE\u8BA1\u9875\u9762",children:(0,e.jsx)("div",{className:"download-btn",onClick:Yt,children:(0,e.jsx)(Oe.Z,{})})})]}),(0,e.jsxs)(P.Z,{className:"inspect_info_ctn",title:"\u751F\u6210\u53C2\u6570",children:[(0,e.jsxs)(P.Z.Item,{label:"\u56FE\u7247\u5206\u8FA8\u7387",children:[ve[0],", ",ve[1]]}),(0,e.jsx)(P.Z.Item,{label:r,children:K[r][Te[1]]}),(0,e.jsx)(P.Z.Item,{label:i,children:K[i][Te[0]]}),(0,e.jsx)(P.Z.Item,{label:x[0],children:K[x[0]][0]}),(0,e.jsx)(P.Z.Item,{label:x[1],children:K[x[1]][0]})]})]})]})]})]})},Je=He}}]);
